Here is a comprehensive Software Requirements Specification (SRS) document for the Fault Tolerant System Services (FTSS), structured according to professional standards and formatted in Markdown.

# Software Requirements Specification
## For
# Fault Tolerant System Services (FTSS)
## X-38 Crew Return Vehicle Flight Computer

**Version:** 1.0
**Date:** October 26, 2023
**Status:** Draft

---

## Table of Contents
1. [Introduction](#1-introduction)
2. [Overall Description](#2-overall-description)
3. [System Features](#3-system-features)
4. [External Interface Requirements](#4-external-interface-requirements)
5. [Non-Functional Requirements](#5-non-functional-requirements)
6. [Other Requirements](#6-other-requirements)

---

## 1. Introduction

### 1.1 Purpose
This document provides a detailed description of the Software Requirements Specification (SRS) for the Fault Tolerant System Services (FTSS). The FTSS is the core software layer for NASA's X-38 Crew Return Vehicle Flight Critical Computer (FCC). This SRS is intended for developers, testers, project managers, and other stakeholders involved in the implementation and verification of the FTSS.

### 1.2 Project Scope
The FTSS provides the critical software services necessary to enable the quad-redundant operation of the Flight Critical Computer (FCC) system. Its core responsibilities include:
- Managing system scheduling across various vehicle modes.
- Facilitating inter-processor communication.
- Providing fault detection, isolation, and recovery.
- Managing system redundancy.
- Performing memory management operations.
- Maintaining highly accurate and synchronized time services.

**Out of Scope:** The FTSS specification explicitly excludes hardware design and the development of specific flight application code. It is a middleware layer upon which such applications are built.

### 1.3 Definitions, Acronyms, and Abbreviations

| Acronym | Definition |
| :--- | :--- |
| **API** | Application Programming Interface |
| **BIT** | Built-In Test |
| **CBIT** | Continuous Built-In Test |
| **FCC** | Flight Critical Computer |
| **FCP** | Flight Critical Processor |
| **FCR** | Fault Containment Region |
| **FTSS** | Fault Tolerant System Services |
| **FTPP** | Fault Tolerant Parallel Processor |
| **IBIT** | Initial Built-In Test |
| **ICP** | Instrument Control Processor |
| **MET** | Mission Elapsed Time |
| **MPCC** | Multi-Protocol Communications Controller |
| **NE** | Network Element |
| **PPM** | Parts Per Million |
| **SEP** | Separation Elapsed Time |
| **SRS** | Software Requirements Specification |

### 1.4 References
*   X-38 Avionics System Architecture Document
*   Draper FTPP Architecture Specification
*   Radstone Power PC 604R Hardware Manual
*   VxWorks 5.4 Programmer's Guide

## 2. Overall Description

### 2.1 Product Perspective
The FTSS is the foundational software layer within the X-38 avionics architecture. It is built upon Draper's Fault Tolerant Parallel Processor (FTPP) architecture and operates directly on the VxWorks 5.4 real-time operating system, which runs on Radstone Power PC 604R hardware.

The system operates as a quad-redundant virtual group across four Flight Critical Processors (FCPs). It interfaces with five Instrument Control Processors (ICPs) and manages communication through five independent Network Elements (NEs), providing a robust, fault-tolerant platform for the vehicle's flight software.

### 2.2 Product Functions
The high-level functions of the FTSS are:
1.  **Scheduling Services:** Manage and schedule task execution.
2.  **Communication Services:** Enable data exchange between processors.
3.  **Fault Management:** Detect, isolate, and recover from faults.
4.  **Redundancy Management:** Manage processor and network element failures.
5.  **Memory Management:** Ensure memory integrity and alignment.
6.  **Time Services:** Provide and synchronize mission time across the system.

### 2.3 User Characteristics
The primary users of the FTSS are:
*   **NASA Flight Operations Personnel:** Interact with the system during pre-flight initialization and monitoring. They are highly trained experts in vehicle systems.
*   **System Maintainers:** Responsible for post-flight analysis and system diagnostics. They possess deep technical knowledge of the FCC and FTSS.

During normal flight operations, the system is designed to function autonomously without any user interaction.

### 2.4 Operating Environment
*   **Hardware:** Radstone Power PC 604R processors.
*   **Operating System:** VxWorks 5.4.
*   **Memory Constraints:** Must operate within 3 MB of ROM and 9 MB of DRAM.
*   **System Architecture:** Must be compatible with the existing X-38 avionics architecture and support operation with any 3 of 5 active Fault Containment Regions (FCRs).

### 2.5 Design and Implementation Constraints
*   The software must be implemented in C/C++ for the specified Power PC platform.
*   The design must adhere to the Draper FTPP architectural principles.
*   The system must be fully compatible with the existing X-38 flight software application programming interface (API).

### 2.6 Assumptions and Dependencies
*   It is assumed that the underlying VxWorks OS and Radstone hardware function as specified.
*   The system's fault tolerance is dependent on the integrity of the hardware FCRs.
*   The system depends on the correct functioning of the five Network Elements for full redundancy.

## 3. System Features

This section details the functional requirements of the FTSS.

### 3.1 Scheduling Services

| ID | Requirement |
| :--- | :--- |
| **SCH-001** | The system shall manage task execution in predefined rate groups of 50Hz, 10Hz, and 1Hz. |
| **SCH-002** | The system shall support multiple vehicle modes of operation (e.g., pre-flight, ascent, re-entry). |
| **SCH-003** | The system shall complete a transition between any two vehicle modes within 1.02 seconds. |

### 3.2 Communication Services

| ID | Requirement |
| :--- | :--- |
| **COM-001** | The system shall provide synchronous message queues for inter-processor communication. |
| **COM-002** | The system shall provide immediate pipes for low-latency, high-priority communication. |
| **COM-003** | The system shall provide transparent communication between virtual groups, abstracting the underlying physical network from the application. |

### 3.3 Fault Detection and Isolation

| ID | Requirement |
| :--- | :--- |
| **FDI-001** | The system shall perform an Initial Built-In Test (IBIT) during system startup to verify the health of all critical components. |
| **FDI-002** | The system shall perform a Continuous Built-In Test (CBIT) during normal operation to monitor for runtime faults. |
| **FDI-003** | The system shall be capable of isolating a faulty processor or network element to a single Fault Containment Region (FCR). |

### 3.4 Redundancy Management

| ID | Requirement |
| :--- | :--- |
| **RED-001** | The system shall mask (hide) a single failed FCP or NE from the application layer. |
| **RED-002** | The system shall attempt recovery of a transiently failed processor. |
| **RED-003** | The system shall support the reintegration of a recovered processor back into the operational virtual group, provided it passes health checks. |
| **RED-004** | The system shall remain operational with any 3 of the 5 active FCRs functioning correctly. |

### 3.5 Memory Management

| ID | Requirement |
| :--- | :--- |
| **MEM-001** | The system shall perform memory scrubbing at a rate sufficient to process 10 Megabytes of memory every 8 minutes to detect and correct memory errors. |
| **MEM-002** | The system shall ensure memory alignment across all FCPs during a recovery or reintegration process. |

### 3.6 Time Services

| ID | Requirement |
| :--- | :--- |
| **TIME-001** | The system shall maintain a Mission Elapsed Time (MET) clock. |
| **TIME-002** | The system shall maintain a Separation Elapsed Time (SEP) clock. |
| **TIME-003** | The MET and SEP clocks shall have an accuracy of 50 Parts Per Million (PPM). |
| **TIME-004** | The MET and SEP clocks shall be congruent (synchronized in value) across all operational FCPs. |

## 4. External Interface Requirements

### 4.1 Software Interfaces
*   **Application API:** The FTSS shall provide a well-defined API for flight applications to access scheduling, communication, and time services.
*   **VxWorks 5.4:** The system shall interface with the VxWorks 5.4 operating system for core services such as task management and hardware abstraction.

### 4.2 Hardware Interfaces
*   **Radstone Power PC 604R:** The software is built to execute on this specific processor family.
*   **Network Elements (NEs):** The system shall manage communication across five independent NEs.
*   **FCP-ICP Communication Link:** The system shall manage the communication link between the Flight Critical Processors and the Instrument Control Processors.
*   **Multi-Protocol Communications Controller (MPCC):** The system shall interface with the MPCC for network communication.

## 5. Non-Functional Requirements

### 5.1 Performance Requirements

| ID | Requirement |
| :--- | :--- |
| **PERF-001** | The system shall tolerate up to two non-simultaneous hardware faults during a single mission. |
| **PERF-002** | The system shall complete vehicle mode changes within 1.02 seconds. |
| **PERF-003** | The clock skew between any two synchronized FCPs shall not exceed 330 microseconds. |
| **PERF-004** | The memory scrubbing process shall sustain a rate of 10 Megabytes every 8 minutes. |
| **PERF-005** | The MET and SEP time services shall maintain an accuracy of 50 PPM. |

### 5.2 Safety Requirements
The system is safety-critical. Its design and implementation shall ensure that no single point of failure can lead to a loss of the vehicle. The fault tolerance mechanisms are the primary means of ensuring safety.

### 5.3 Software Quality Attributes

*   **Reliability:** The system must have a Mean Time Between Failures (MTBF) consistent with manned spaceflight standards.
*   **Availability:** The system must be available for operation throughout the entire mission duration, even in the presence of faults.
*   **Maintainability:** The software shall be modular and well-documented to facilitate troubleshooting and post-flight analysis.

## 6. Other Requirements

### 6.1 Priorities
The following requirements are considered critical and are assigned the highest priority:
*   Fault Tolerance (ability to tolerate two faults)
*   Inter-processor synchronization (≤330 µs skew)
*   Recovery time objectives

### 6.2 Acceptance Approach
Final acceptance of the FTSS software shall be contingent upon the successful demonstration of the following:
1.  **Fault Tolerance Demonstration:** The system must be shown to correctly mask, recover from, and reintegrate components after two non-simultaneous fault injections without violating safety or performance constraints.
2.  **Timing Constraint Verification:** All specified timing requirements (mode change, synchronization skew, memory scrubbing rate) must be verified through rigorous testing.
3.  **Recovery Time Verification:** The system must demonstrate the ability to recover from a fault and resume normal operation within 1.5 minutes.

Verification shall be achieved through a combination of testing, analysis, and inspection methods as detailed in a separate Verification and Validation (V&V) plan.