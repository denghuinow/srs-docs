# GOG Software Requirements Specification

## 1. Introduction

### 1.1 Objectives
GOG (Gaia Object Generator) is a tool to directly generate Catalogue, Main Database (MDB) data and final data (statistically equivalent to final mission data) without using GASS telemetry, GIBIS or the main ESAC database. GOG simulates catalog data, auxiliary data and intermediate main database data for all Gaia instruments using error models to provide rapid simulations of large amounts of data. The realism depends on the realism of available error models.

GOG is based on the Universe and spacecraft & payload models of the GaiaSimu library and uses error models for rapid simulations. The implementation of instrumental error models is a gradual process based on study of detailed pixel-level simulated data produced by GIBIS. Simulation of processed data requires models of calibration errors provided by CUs in charge of calibration algorithms development.

Three main outputs:
1. Universe model catalog data according to universe model ICD
2. Main database data epoch data: data as observed and reduced for each transit (field angles, epoch radial velocity, G magnitude, spectra, etc.)
3. Main database data combined data: output produced by combining all available epoch data (derived parallax, proper motions, mean radial velocity, G magnitude, spectra, etc.)

Two main source generation options:
1. Generation from Universe model of GaiaSimu library (user specifies sky region)
2. Generation for input object catalog (catalog generated by user with necessary object information)

Two main types of noise simulation (user-selectable):
1. Instrumental noise: from observation process (on-board detection, tracking, observation dead-time)
2. Reduction noise: added when removing instrumental noise and extracting scientific content

### 1.2 Scope
Document addresses CU members requiring understanding of software requirements, restrictions and assumptions for GOG design and construction. Several SADT diagrams of main and alternate execution flows are provided.

### 1.3 Assumptions
Requirements captured for GOG generic operational behavior. Some expectations for GOG might change. Main hurdle is that main database contents are not fully completed. Initial versions consider current specifications with restrictions described in section 11.

### 1.4 Applicable Documents
- JH-001: Interface Control Document for the Gaia Main Database
- CR-001: Gaia Universe Model Interface Control Document
- TL-001: DPAC Product Assurance Plan
- XL-005: Software Development Plan for CU2

### 1.5 References
- Hernandez, J., 2008: Main Database Interface Control Document
- Levoir, T., et al., 2007: DPAC Software Product Assurance Plan
- Luri, X., et al., 2009: CU2 Software development plan
- Reyle, C., et al., 2008: Universe model ICD

### 1.6 Definitions, Acronyms, Abbreviations
Requirements labeling scheme: CU2-GOG-module-X-SCOPE-xxx
- module: identifies GOG module
- X: S (Scientific), T (Technical), Q (Quality Assurance), or M (Management)
- SCOPE: three/four letter scope specification
- xxx: monotonically increasing counter

Acronyms:
- CU: Coordination Unit (in DPAC)
- DPAC: Data Processing and Analysis Consortium
- DU: Development Unit (in DPAC)
- GASS: GAia System-level Simulator
- GIBIS: Gaia Instrument and Basic Image Simulator
- GOG: Gaia Object Generator
- I/O: Input/Output
- QA: Quality Assurance
- SADT: Structured Analysis and Design Technique
- SRS: System Requirement Specification
- UM: Universe Model
- WP: Work Package

## 2. General Description and Requirements

### 2.1 Context
GOG as unique software product decomposed in SADT diagram. Main conceptual modules:
- Initialisation Module
- Epoch parameters Module
- Combined parameters Module
- Spectrum simulation Module
- I/O Module

### 2.2 Decomposition
GOG software product decomposed in software modules:
- Initialisation Module
- Epoch Parameters Module
- Combined Parameters Module
- Spectrum simulation Module
- Output module

### 2.3 High Level Requirements
- GOG-GEN-S-FUN-020: CU2 responsible for GOG design and development providing Catalogue, MDB and final data without GASS telemetry, GIBIS or ESAC database
- GOG-GEN-S-FUN-040: GOG fully integrated in Gaia Simulator project using Gaia Simu library and Gaia Tools library
- GOG-GEN-S-FUN-060: Source generation with 2 options: Universe Model from GaiaSimu or Object Input Catalogue
- GOG-GEN-S-FUN-080: Source by source processing mechanism
- GOG-GEN-S-FUN-100: Noise effects consideration (user-selectable): instrumental noises and reduction noise
- GOG-GEN-S-FUN-120: I/O Catalogue format driven by [AD3], Main Database format defined in [AD1]
- GOG-GEN-S-FUN-140: Same result for identical input configuration parameters
- GOG-GEN-T-NFUN-020: Command line or shell script execution capability
- GOG-GEN-T-NFUN-040: Cluster or grid environment capability
- GOG-GEN-T-NFUN-060: Standalone java application deployable as jar file
- GOG-GEN-T-NFUN-080: Single thread mode or grid environments operation
- GOG-GEN-T-NFUN-100: Runs on LINUX, UNIX and MAC computers (minimum), platform independent results
- GOG-GEN-T-NFUN-120: Generate data for considerable amount of astrosources (up to 20% of expected final catalogue)
- GOG-GEN-T-NFUN-140: Complete source processing in 2 CPU seconds

## 3. Initialisation Module

### 3.1 Description and Objectives
Module loads and stores read configuration properly, offering common interface to get values easily.

### 3.2 Requirements
- GOG-CON-T-FUN-020: Read input sources information (Universe Model or user sources)
- GOG-CON-T-FUN-040: Include universe model information (Galaxy model, SkyBackground model, Extinction Law model, DMS model)
- GOG-CON-T-FUN-060: Include instrument model information (scanning law, Dead time, Noise models including detection noise)
- GOG-CON-T-FUN-080: Include reduction model information (Instrument effects subtraction, node bias subtraction, noises, PPE residuals noise, Scientific content extraction noise, subtraction of close sources, second FoV contamination noise, background subtraction)
- GOG-CON-T-FUN-100: Define output specification (spectrum RPBP/RVS, astrometry, Vr, physical parameters and flags, epoch and/or combined, number of epochs)

### 3.3 Input/Output
- Input: XML configuration file
- Output: Memory properties-like structure loaded and ready to use

## 4. Epoch Parameters Module

### 4.1 Description and Objectives
Module handles epoch parameters settings and calculations of GOG simulation.

### 4.2 Requirements
- GOG-EPCH-S-FUN-020: Determine epoch astrometric parameters (instrumental and reduction errors): transit times and field angles in each CCD, mean transit time and field angle, Gate activation and signal loss due to window cutoff
- GOG-EPCH-S-FUN-040: Determine epoch photometry (instrumental and reduction errors): G mag (each CCD and average), GRP, GBP, GRVS, Gate activation and signal loss due to window cutoff
- GOG-EPCH-S-FUN-060: Determine epoch radial velocity (instrumental and reduction errors)
- GOG-EPCH-S-FUN-080: Determine epoch flags
- GOG-EPCH-S-FUN-100: Determine epoch physical parameters (Av, Teff, logg, FeH)

### 4.3 Input/Output
- Input: Source with particular transit
- Output: Epoch data bean

## 5. Combined Parameters Module

### 5.1 Description and Objectives
Module handles combined parameters settings and calculations of GOG simulation.

### 5.2 Requirements
- GOG-CMB-S-FUN-020: Compute astrometric combined data using all previous transits (parallax and proper motion errors, covariance matrix, estimated errors for astrometric parameters at mean epoch)
- GOG-CMB-S-FUN-040: Determine combined photometry: mean G, GRP, GBP, GRVS
- GOG-CMB-S-FUN-060: Determine mean radial velocity
- GOG-CMB-S-FUN-080: Determine final flags (variability, non-single star)
- GOG-CMB-S-FUN-100: Determine mean physical parameters (classification, Av, Teff, logg, FeH)

### 5.3 Input/Output
- Input: Source
- Output: Combined data bean

## 6. Spectrum Simulation Module

### 6.1 Description and Objectives
Module handles spectrum settings and calculations of GOG simulation for both RP/BP and RVS spectrum simulation.

### 6.2 Requirements
- GOG-SPCT-S-FUN-020: Noise consideration on flux noise (Poisson noise, total detection noise), CCD combination noise (RVS), wavelength calibration, multi-transit combination noise (combined data only)

### 6.3 Input/Output
- Input: Source
- Output: Epoch and/or combined data bean

## 7. Output Module

### 7.1 Description and Objectives
Module communicates GOG flow execution with filesystem, obtaining and writing requested files as GOG outputs.

### 7.2 Requirements
- GOG-IO-T-FUN-020: Universe catalog output follows universe model ICD document (GaiaSimu library allows writing and reading this format)
- GOG-IO-T-FUN-040: Output driven by MDB data model for distribution to DPCs

### 7.3 Input/Output
- Output: Data following universe model ICD document

## Appendix A: Traceability to Upper Level Requirements
- DPAC-CU2-S-FUN-320: CU2-GOG-GEN-S-FUN-20
- DPAC-CU2-S-FUN-340: CU2-GOG-IO-T-FUN-40
- DPAC-CU2-S-FUN-360: CU2-GOG-IO-T-FUN-40
- DPAC-CU2-S-FUN-380: CU2-GOG-CON-T-FUN-20, CU2-GOG-CON-T-FUN-40, CU2-GOG-CON-T-FUN-60, CU2-GOG-CON-T-FUN-80, CU2-GOG-CON-T-FUN-100
